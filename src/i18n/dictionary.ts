export type Locale = "uk" | "ru" | "en";

export const supportedLocales: { code: Locale; label: string }[] = [
  { code: "uk", label: "Укр" },
  { code: "ru", label: "Рус" },
  { code: "en", label: "Eng" },
];

export type TranslateParams = Record<string, string | number>;

const dictionaries: Record<Locale, Record<string, string>> = {
  uk: {
    "header.title": "Ідеальний Продавець 2.0",
    "header.back": "Назад",
    "header.about_button": "Про застосунок",
    "header.about_title": "Про застосунок",
    "header.about_body":
      "«Ідеальний Продавець 2.0» допомагає команді швидко знаходити відповіді, працювати зі знаннями та підтримувати якісний сервіс.",
    "header.about_point1": "Інтеграція з Telegram WebApp для зручного доступу.",
    "header.about_point2": "Підтримка світлої та темної тем.",
    "header.about_point3": "ШІ-помічник, база знань, чек-листи, каталог і багато іншого.",

    "home.welcome_title": "Вітаємо, колего!",
    "home.welcome_subtitle":
      "Обирайте розділ, щоб отримати інструменти для ідеального сервісу та продажів.",
    "home.tiles.assistant.title": "ШІ-помічник",
    "home.tiles.assistant.subtitle": "Миттєві відповіді на складні запитання",
    "home.tiles.kb.title": "База знань",
    "home.tiles.kb.subtitle": "Покрокові інструкції та корисні матеріали",
    "home.tiles.checklists.title": "Чек-листи",
    "home.tiles.checklists.subtitle": "Контроль щоденних рутин та стандартів",
    "home.tiles.catalog.title": "Наша продукція",
    "home.tiles.catalog.subtitle": "Каталог «Галя Балувана» під рукою",
    "home.tiles.tests.title": "Перевірка знань",
    "home.tiles.tests.subtitle": "Тести та тренажери для розвитку",
    "home.tiles.contacts.title": "Корисні контакти",
    "home.tiles.contacts.subtitle": "Миттєвий зв’язок з наставниками",
    "home.emergency.title": "Дії при екстрених випадках",
    "home.emergency.subtitle": "Швидкий доступ до інструкцій дій під час позаштатних ситуацій.",
    "home.emergency.count": "{{count}} матеріал(и)",
    "home.emergency.empty": "Наразі немає доступних матеріалів у цій категорії.",
    "home.emergency.error": "Не вдалося завантажити екстрені інструкції. Спробуйте пізніше.",

    "knowledge_base.title": "База знань",
    "knowledge_base.subtitle":
      "Використовуйте пошук або оберіть категорію, щоб знайти потрібну інструкцію.",
    "knowledge_base.search_placeholder": "Пошук статей",
    "knowledge_base.loading": "Завантаження…",
    "knowledge_base.error": "Не вдалося завантажити статті. Спробуйте пізніше.",
    "knowledge_base.count": "{{count}} матеріал(и)",
    "knowledge_base.empty": "Нічого не знайдено. Уточніть запит.",
    "knowledge_base.article.loading": "Завантаження статті…",
    "knowledge_base.article.error": "Не вдалося завантажити статтю.",
    "knowledge_base.article.not_found": "Стаття не знайдена.",
    "knowledge_base.article.category": "Категорія: {{category}}",
    "knowledge_base.article.image_alt": "Ілюстрація статті",
    "knowledge_base.article.video": "Переглянути відео",

    "checklists.title": "Чек-листи",
    "checklists.subtitle": "Підтримуйте стандарти сервісу разом із контрольними списками.",
    "checklist.detail.label": "Чек-лист",
    "checklist.detail.progress": "Виконано: {{progress}}%",
    "checklist.detail.reset": "Скинути прогрес",
    "checklist.detail.not_found": "Чек-лист не знайдено.",

    "common.loading": "Завантаження…",
    "common.error": "Сталася помилка. Спробуйте пізніше.",
    "common.retry": "Спробувати ще раз",
    "common.learn_more": "Докладніше",

    "assistant.section_title": "Інтелектуальні агенти",
    "assistant.persona.seller": "Продавець",
    "assistant.persona.seller.desc": "Про товари, техніки продажу, мерчендайзинг та сервіс",
    "assistant.persona.psychologist": "Психолог",
    "assistant.persona.psychologist.desc": "Підтримка емоційного стану, робота зі стресом та втомою",
    "assistant.persona.companion": "Потеревенькати",
    "assistant.persona.companion.desc": "Легка дружня бесіда, щоб відволіктися під час зміни",
    "assistant.chat.placeholder": "Напишіть повідомлення…",
    "assistant.chat.empty": "Почніть діалог із агентом «{{name}}». {{description}}",
    "assistant.voice.start": "Голос",
    "assistant.voice.stop": "Зупинити",
    "assistant.voice.denied": "Немає доступу до мікрофона. Перевірте налаштування.",
    "assistant.voice.empty": "Запис не містить звуку. Спробуйте ще раз.",
    "assistant.voice.timer": "Тривалість: {{seconds}} с",
    "assistant.voice.visual_label": "Індикатор рівня звуку",
    "assistant.voice.message": "Голосове повідомлення",
    "assistant.send": "Надіслати",
    "assistant.sent_confirmation": "Повідомлення передано до агента",

    "catalog.title": "Наша продукція",
    "catalog.subtitle": "Знайомтесь із лінійкою «Галя Балувана» та відкривайте картку для деталей.",
    "catalog.availability.title": "Доступність по складах",
    "catalog.availability.low": "Мало",
    "catalog.availability.replenishment": "Доставка: {{eta}}",
    "catalog.cross_sell.title": "Cross-sell рекомендації",
    "catalog.instructions.title": "Інструкції та AR",
    "catalog.instructions.video": "Переглянути відео",
    "catalog.instructions.ar": "Увімкнути AR",
    "catalog.instructions.none": "Поки немає інтерактивних матеріалів",

    "tests.title": "Перевірка знань",
    "tests.subtitle": "Обирайте модуль і проходьте перевірку навичок у реальному часі.",
    "tests.start": "Почати",
    "tests.next": "Далі",
    "tests.finish": "Завершити",
    "tests.hint": "Підказка",
    "tests.progress": "Питання {{current}}/{{total}}",
    "tests.questions_label": "питань",
    "tests.score": "Ваш результат: {{score}}% ({{correct}} з {{total}})",
    "tests.review.title": "Рекомендації для повторення",
    "tests.review.checklist": "Чек-лист: {{title}}",
    "tests.review.article": "Стаття: {{title}}",
    "tests.review.test": "Тест: {{title}}",
    "tests.feedback.correct": "Чудово! Відповідь правильна.",
    "tests.feedback.incorrect": "Зверніть увагу: правильна відповідь — {{answer}}.",
    "tests.gamification.badges_title": "Досягнення",
    "tests.gamification.rankings_title": "Рейтинг зміни",
    "tests.gamification.you": "Ви",

    "learning_plans.title": "Плани навчання",
    "learning_plans.subtitle": "Комбінуйте чек-листи, статті та тести, щоб закріпити знання.",
    "learning_plans.complete": "Переглянути план",
    "learning_plans.meta": "{{duration}} · {{checklists}} чек-лист(и) · {{articles}} статті · {{tests}} тести",

    "contacts.title": "Корисні контакти",
    "contacts.subtitle": "Зв’язуйтеся з наставниками та підтримкою у разі питань.",
    "contacts.action.call": "Дзвінок",
    "contacts.action.chat": "Чат",
    "contacts.action.video": "Відеозв’язок",
    "contacts.action.sos": "SOS",
    "contacts.sos.title": "Екстрене звернення",
    "contacts.sos.description": "Повідомлення надіслано менеджеру зміни та службі безпеки.",
    "contacts.hours": "Години доступності: {{hours}}",

    "analytics.consent": "Ми збираємо події використання для покращення сервісу.",
    "errors.fallback.subtitle": "Ми зафіксували інцидент і вже працюємо над вирішенням.",
  },
  ru: {
    "header.title": "Идеальный Продавец 2.0",
    "header.back": "Назад",
    "header.about_button": "О приложении",
    "header.about_title": "О приложении",
    "header.about_body":
      "\u00abИдеальный Продавец 2.0\u00bb помогает команде быстро находить ответы, работать со знаниями и поддерживать высокий сервис.",
    "header.about_point1": "Интеграция с Telegram WebApp для удобного доступа.",
    "header.about_point2": "Поддержка светлой и темной тем.",
    "header.about_point3": "ИИ-помощник, база знаний, чек-листы, каталог и многое другое.",

    "home.welcome_title": "Добро пожаловать!",
    "home.welcome_subtitle": "Выберите раздел, чтобы получить инструменты для отличного сервиса и продаж.",
    "home.tiles.assistant.title": "ИИ-помощник",
    "home.tiles.assistant.subtitle": "Мгновенные ответы на сложные вопросы",
    "home.tiles.kb.title": "База знаний",
    "home.tiles.kb.subtitle": "Пошаговые инструкции и полезные материалы",
    "home.tiles.checklists.title": "Чек-листы",
    "home.tiles.checklists.subtitle": "Контроль ежедневных рутин и стандартов",
    "home.tiles.catalog.title": "Наша продукция",
    "home.tiles.catalog.subtitle": "Каталог «Галя Балувана» под рукой",
    "home.tiles.tests.title": "Проверка знаний",
    "home.tiles.tests.subtitle": "Тесты и тренажеры для развития",
    "home.tiles.contacts.title": "Полезные контакты",
    "home.tiles.contacts.subtitle": "Мгновенная связь с наставниками",
    "home.emergency.title": "Действия при экстренных случаях",
    "home.emergency.subtitle": "Быстрый доступ к инструкциям при нештатных ситуациях.",
    "home.emergency.count": "{{count}} материал(ов)",
    "home.emergency.empty": "В этой категории пока нет материалов.",
    "home.emergency.error": "Не удалось загрузить экстренные инструкции. Попробуйте позже.",

    "knowledge_base.title": "База знаний",
    "knowledge_base.subtitle":
      "Используйте поиск или выберите категорию, чтобы найти нужную инструкцию.",
    "knowledge_base.search_placeholder": "Поиск статей",
    "knowledge_base.loading": "Загрузка…",
    "knowledge_base.error": "Не удалось загрузить статьи. Попробуйте позже.",
    "knowledge_base.count": "{{count}} материал(ов)",
    "knowledge_base.empty": "Ничего не найдено. Уточните запрос.",
    "knowledge_base.article.loading": "Загрузка статьи…",
    "knowledge_base.article.error": "Не удалось загрузить статью.",
    "knowledge_base.article.not_found": "Статья не найдена.",
    "knowledge_base.article.category": "Категория: {{category}}",
    "knowledge_base.article.image_alt": "Иллюстрация к статье",
    "knowledge_base.article.video": "Посмотреть видео",

    "checklists.title": "Чек-листы",
    "checklists.subtitle": "Поддерживайте стандарты сервиса с контрольными списками.",
    "checklist.detail.label": "Чек-лист",
    "checklist.detail.progress": "Выполнено: {{progress}}%",
    "checklist.detail.reset": "Сбросить прогресс",
    "checklist.detail.not_found": "Чек-лист не найден.",

    "common.loading": "Загрузка…",
    "common.error": "Произошла ошибка. Попробуйте позже.",
    "common.retry": "Попробовать еще раз",
    "common.learn_more": "Подробнее",

    "assistant.section_title": "Интеллектуальные агенты",
    "assistant.persona.seller": "Продавец",
    "assistant.persona.seller.desc": "О товарах, техниках продаж, мерчандайзинге и сервисе",
    "assistant.persona.psychologist": "Психолог",
    "assistant.persona.psychologist.desc": "Поддержка эмоционального состояния, работа со стрессом",
    "assistant.persona.companion": "Поболтать",
    "assistant.persona.companion.desc": "Легкая дружеская беседа, чтобы отвлечься во время смены",
    "assistant.chat.placeholder": "Напишите сообщение…",
    "assistant.chat.empty": "Начните диалог с агентом «{{name}}». {{description}}",
    "assistant.voice.start": "Голос",
    "assistant.voice.stop": "Стоп",
    "assistant.voice.denied": "Нет доступа к микрофону. Проверьте настройки.",
    "assistant.voice.empty": "Запись не содержит звука. Попробуйте снова.",
    "assistant.voice.timer": "Длительность: {{seconds}} с",
    "assistant.voice.visual_label": "Индикатор уровня звука",
    "assistant.voice.message": "Голосовое сообщение",
    "assistant.send": "Отправить",
    "assistant.sent_confirmation": "Сообщение передано агенту",

    "catalog.title": "Наша продукция",
    "catalog.subtitle": "Знакомьтесь с линейкой «Галя Балувана» и открывайте карточку для деталей.",
    "catalog.availability.title": "Наличие по складам",
    "catalog.availability.low": "Мало",
    "catalog.availability.replenishment": "Поставка: {{eta}}",
    "catalog.cross_sell.title": "Cross-sell рекомендации",
    "catalog.instructions.title": "Инструкции и AR",
    "catalog.instructions.video": "Смотреть видео",
    "catalog.instructions.ar": "Включить AR",
    "catalog.instructions.none": "Пока нет интерактивных материалов",

    "tests.title": "Проверка знаний",
    "tests.subtitle": "Выбирайте модуль и проходите проверку навыков в реальном времени.",
    "tests.start": "Начать",
    "tests.next": "Дальше",
    "tests.finish": "Завершить",
    "tests.hint": "Подсказка",
    "tests.progress": "Вопрос {{current}}/{{total}}",
    "tests.questions_label": "вопросов",
    "tests.score": "Ваш результат: {{score}}% ({{correct}} из {{total}})",
    "tests.review.title": "Рекомендации для повторения",
    "tests.review.checklist": "Чек-лист: {{title}}",
    "tests.review.article": "Статья: {{title}}",
    "tests.review.test": "Тест: {{title}}",
    "tests.feedback.correct": "Отлично! Ответ верный.",
    "tests.feedback.incorrect": "Обратите внимание: правильный ответ — {{answer}}.",
    "tests.gamification.badges_title": "Достижения",
    "tests.gamification.rankings_title": "Рейтинг смены",
    "tests.gamification.you": "Вы",

    "learning_plans.title": "Планы обучения",
    "learning_plans.subtitle": "Комбинируйте чек-листы, статьи и тесты для закрепления знаний.",
    "learning_plans.complete": "Открыть план",
    "learning_plans.meta": "{{duration}} · {{checklists}} чек-листа · {{articles}} статьи · {{tests}} тестов",

    "contacts.title": "Полезные контакты",
    "contacts.subtitle": "Связывайтесь с наставниками и поддержкой при вопросах.",
    "contacts.action.call": "Звонок",
    "contacts.action.chat": "Чат",
    "contacts.action.video": "Видео",
    "contacts.action.sos": "SOS",
    "contacts.sos.title": "Экстренное обращение",
    "contacts.sos.description": "Сообщение отправлено менеджеру смены и службе безопасности.",
    "contacts.hours": "Часы доступности: {{hours}}",

    "analytics.consent": "Мы собираем события использования, чтобы улучшать сервис.",
    "errors.fallback.subtitle": "Мы зафиксировали инцидент и уже работаем над решением.",
  },
  en: {
    "header.title": "Ideal Seller 2.0",
    "header.back": "Back",
    "header.about_button": "About",
    "header.about_title": "About",
    "header.about_body":
      "\"Ideal Seller 2.0\" helps the team quickly find answers, manage knowledge and deliver great service.",
    "header.about_point1": "Telegram WebApp integration for instant access.",
    "header.about_point2": "Light and dark theme support.",
    "header.about_point3": "AI assistant, knowledge base, checklists, catalog and more.",

    "home.welcome_title": "Welcome, teammate!",
    "home.welcome_subtitle": "Pick a section to get the right sales and service tools.",
    "home.tiles.assistant.title": "AI Assistant",
    "home.tiles.assistant.subtitle": "Instant answers to tricky questions",
    "home.tiles.kb.title": "Knowledge Base",
    "home.tiles.kb.subtitle": "Step-by-step guides and useful materials",
    "home.tiles.checklists.title": "Checklists",
    "home.tiles.checklists.subtitle": "Control daily routines and standards",
    "home.tiles.catalog.title": "Our Products",
    "home.tiles.catalog.subtitle": "The “Halia Baluvana” catalog at hand",
    "home.tiles.tests.title": "Knowledge Check",
    "home.tiles.tests.subtitle": "Quizzes and drills for growth",
    "home.tiles.contacts.title": "Useful Contacts",
    "home.tiles.contacts.subtitle": "Instant channel to mentors",
    "home.emergency.title": "Emergency actions",
    "home.emergency.subtitle": "Quick access to procedures for non-standard situations.",
    "home.emergency.count": "{{count}} item(s)",
    "home.emergency.empty": "No materials in this category yet.",
    "home.emergency.error": "Failed to load emergency instructions. Try again later.",

    "knowledge_base.title": "Knowledge Base",
    "knowledge_base.subtitle": "Use search or pick a category to find the right playbook.",
    "knowledge_base.search_placeholder": "Search articles",
    "knowledge_base.loading": "Loading…",
    "knowledge_base.error": "Failed to load articles. Try again later.",
    "knowledge_base.count": "{{count}} article(s)",
    "knowledge_base.empty": "Nothing found. Refine your query.",
    "knowledge_base.article.loading": "Loading article…",
    "knowledge_base.article.error": "Failed to load the article.",
    "knowledge_base.article.not_found": "Article not found.",
    "knowledge_base.article.category": "Category: {{category}}",
    "knowledge_base.article.image_alt": "Article illustration",
    "knowledge_base.article.video": "Watch video",

    "checklists.title": "Checklists",
    "checklists.subtitle": "Stay on standard with guided checklists.",
    "checklist.detail.label": "Checklist",
    "checklist.detail.progress": "Completed: {{progress}}%",
    "checklist.detail.reset": "Reset progress",
    "checklist.detail.not_found": "Checklist not found.",

    "common.loading": "Loading…",
    "common.error": "Something went wrong. Try again later.",
    "common.retry": "Try again",
    "common.learn_more": "Learn more",

    "assistant.section_title": "Intelligent agents",
    "assistant.persona.seller": "Sales coach",
    "assistant.persona.seller.desc": "Products, sales techniques, merchandising and service",
    "assistant.persona.psychologist": "Psychologist",
    "assistant.persona.psychologist.desc": "Emotional support, stress and fatigue relief",
    "assistant.persona.companion": "Just chat",
    "assistant.persona.companion.desc": "Friendly small talk to unwind during a shift",
    "assistant.chat.placeholder": "Type a message…",
    "assistant.chat.empty": "Start a dialogue with the “{{name}}” agent. {{description}}",
    "assistant.voice.start": "Voice",
    "assistant.voice.stop": "Stop",
    "assistant.voice.denied": "Microphone access denied. Check your settings.",
    "assistant.voice.empty": "No audio detected. Please try again.",
    "assistant.voice.timer": "Duration: {{seconds}} s",
    "assistant.voice.visual_label": "Sound level indicator",
    "assistant.voice.message": "Voice message",
    "assistant.send": "Send",
    "assistant.sent_confirmation": "Message sent to the agent",

    "catalog.title": "Our products",
    "catalog.subtitle": "Explore the “Halia Baluvana” range and open a card for details.",
    "catalog.availability.title": "Availability across stores",
    "catalog.availability.low": "Low",
    "catalog.availability.replenishment": "Replenishment: {{eta}}",
    "catalog.cross_sell.title": "Cross-sell recommendations",
    "catalog.instructions.title": "Instructions & AR",
    "catalog.instructions.video": "Watch video",
    "catalog.instructions.ar": "Launch AR",
    "catalog.instructions.none": "No interactive materials yet",

    "tests.title": "Knowledge check",
    "tests.subtitle": "Pick a module and validate your skills in real time.",
    "tests.start": "Start",
    "tests.next": "Next",
    "tests.finish": "Finish",
    "tests.hint": "Hint",
    "tests.progress": "Question {{current}}/{{total}}",
    "tests.questions_label": "questions",
    "tests.score": "Your score: {{score}}% ({{correct}} of {{total}})",
    "tests.review.title": "Follow-up recommendations",
    "tests.review.checklist": "Checklist: {{title}}",
    "tests.review.article": "Article: {{title}}",
    "tests.review.test": "Test: {{title}}",
    "tests.feedback.correct": "Great! That's the correct answer.",
    "tests.feedback.incorrect": "Heads-up: the right answer is {{answer}}.",
    "tests.gamification.badges_title": "Achievements",
    "tests.gamification.rankings_title": "Shift leaderboard",
    "tests.gamification.you": "You",

    "learning_plans.title": "Learning plans",
    "learning_plans.subtitle": "Combine checklists, articles and quizzes to reinforce skills.",
    "learning_plans.complete": "View plan",
    "learning_plans.meta": "{{duration}} · {{checklists}} checklist(s) · {{articles}} article(s) · {{tests}} quiz(zes)",

    "contacts.title": "Useful contacts",
    "contacts.subtitle": "Reach out to mentors and support whenever you need help.",
    "contacts.action.call": "Call",
    "contacts.action.chat": "Chat",
    "contacts.action.video": "Video",
    "contacts.action.sos": "SOS",
    "contacts.sos.title": "Emergency escalation",
    "contacts.sos.description": "Shift manager and security have been notified.",
    "contacts.hours": "Availability: {{hours}}",

    "analytics.consent": "We capture usage events to improve the service.",
    "errors.fallback.subtitle": "We logged the incident and are already working on a fix.",
  },
};

export const translate = (
  locale: Locale,
  key: string,
  fallback: string,
  params: TranslateParams = {},
): string => {
  const template = dictionaries[locale]?.[key] ?? fallback;
  return Object.keys(params).reduce(
    (acc, param) => acc.replaceAll(`{{${param}}}`, String(params[param])),
    template,
  );
};
